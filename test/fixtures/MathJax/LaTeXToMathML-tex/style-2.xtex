
      \newcommand\onehalf{
      \mathchoice{\frac 1 2}{1 \mbox{over} 2}{1/2}{\unicode{x00BD}}
      }

      {\textstyle \onehalf}
      {\displaystyle \onehalf}
      {\scriptscriptstyle \onehalf}
      {\scriptstyle \onehalf}
$